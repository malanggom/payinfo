{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted } from 'vue';\nimport eventbus from '@/eventbus/eventbus';\nexport default {\n  __name: 'SearchFilterBtnComponent',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const buttons = ref([]);\n\n    // 필터 타입에 대한 한글 매핑\n    const filterTypeMap = {\n      contains: '포함',\n      notContains: '포함하지 않음',\n      equals: '같음',\n      notEqual: '같지 않음',\n      startsWith: '시작하는',\n      endsWith: '끝나는',\n      //숫자필터 관련\n      greaterThanOrEqual: '이상',\n      lessThanOrEqual: '이하',\n      inRange: '범위 내'\n    };\n\n    // 필드 이름에 대한 한글 매핑\n    const fieldNameMap = {\n      NM: '이름',\n      AGE: '나이',\n      PJ_INP_STTS: '프로젝트투입상태',\n      CTRT_NMTM: '계약횟수',\n      BRDT: '생년월일',\n      GNDR: '성별',\n      JBPS: '직위',\n      GRD: '등급',\n      T_CR_PER: '총경력기간',\n      RGN: '지역',\n      MBL_TELNO: '휴대전화번호',\n      EML: '이메일',\n      CONTT_MTHD: '컨택방법',\n      NTRV_DMND_DT: '인터뷰요청일',\n      INP_PSBLTY_DT: '투입가능일',\n      OGDP_CO: '소속회사',\n      SN: '일련번호',\n      WHTAX_YN: '3.3%여부',\n      BZMN_YN: '사업자여부',\n      KDS_EMP_YN: '자사정규직여부',\n      CTRT_CO_EMP_YN: '계약회사정규직여부',\n      CLCT_PICKUP_DT: '대금수령날짜',\n      GIVE_DT: '지급일자',\n      BANK: '은행',\n      ACTNO: '계좌번호',\n      DEPT: '부서',\n      MM_DMND_UNTPRC: '월요청단가',\n      ADDR: '주소',\n      JBTTL: '직책',\n      BRKR: '소개자',\n      KAKAO_NICK: '카카오톡닉네임',\n      CTRT_HSTRY_YN: '계약이력존재여부',\n      MS: '병역',\n      MDL: '모델',\n      OS: '운영체제',\n      LANG: '언어',\n      DB: '데이터베이스',\n      TOOL: '툴',\n      FRMW: '프레임워크',\n      LBRR: '라이브러리',\n      CMNCT: '통신',\n      ETC: '기타'\n    };\n    const updateButtonData = (keyName, type, filter) => {\n      const displayType = filterTypeMap[type] || type;\n      const displayKeyName = fieldNameMap[keyName] || keyName;\n      console.log('추가할 버튼:', {\n        displayKeyName,\n        displayType,\n        filter\n      });\n      const isAlreadyRegistered = buttons.value.some(button => button.keyName === displayKeyName && button.filter === filter && button.type === displayType);\n      if (!isAlreadyRegistered) {\n        buttons.value.push({\n          keyName: displayKeyName,\n          type: displayType,\n          filter\n        });\n      } else {\n        console.log('중복된 버튼:', {\n          keyName: displayKeyName,\n          type: displayType,\n          filter\n        });\n      }\n    };\n    const resetButtons = () => {\n      buttons.value.forEach(button => {\n        eventbus.SearchResultEvent.removeFilter(button.keyName, button.type, button.filter);\n      });\n      buttons.value = [];\n      console.log('초기화');\n    };\n    const removeButton = index => {\n      const button = buttons.value[index];\n      if (button) {\n        console.log('제거할 버튼 정보:', button);\n\n        // 필터 제거 요청\n        eventbus.SearchResultEvent.removeFilter(button.keyName, button.type, button.filter);\n\n        // buttons 배열에서 해당 버튼 제거\n        buttons.value.splice(index, 1);\n\n        // 제거 후 상태 확인\n        console.log('남은 버튼들:', buttons.value);\n      } else {\n        console.log('Invalid button index:', index);\n      }\n    };\n\n    // 필터 제거 로직을 간단한 함수로 분리\n    const handleRemoveFilter = (keyName, type, filter) => {\n      // 필터 모델 가져오기\n      const filterModel = gridApi.value.getFilterModel();\n\n      // 특정 키에 대한 필터가 존재하는지 확인\n      if (filterModel[keyName]) {\n        const conditions = filterModel[keyName].conditions;\n\n        // 해당 필터 조건을 제거\n        const updatedConditions = conditions.filter(condition => !(condition.type === type && condition.filter === filter));\n\n        // 조건이 남아있으면 업데이트, 없으면 키 삭제\n        if (updatedConditions.length > 0) {\n          filterModel[keyName].conditions = updatedConditions;\n        } else {\n          delete filterModel[keyName];\n        }\n\n        // 업데이트된 필터 모델을 그리드에 적용\n        gridApi.value.setFilterModel(filterModel);\n      }\n    };\n\n    // 이벤트 리스너 등록\n    onMounted(() => {\n      eventbus.SearchResultEvent.add('filterUpdate', updateButtonData);\n      eventbus.SearchResultEvent.add('resetButtons', resetButtons);\n\n      // removeFilter 이벤트 핸들러 간단하게 등록\n      eventbus.SearchResultEvent.add('removeFilter', handleRemoveFilter);\n    });\n    const __returned__ = {\n      buttons,\n      filterTypeMap,\n      fieldNameMap,\n      updateButtonData,\n      resetButtons,\n      removeButton,\n      handleRemoveFilter,\n      ref,\n      onMounted,\n      get eventbus() {\n        return eventbus;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","eventbus","buttons","filterTypeMap","contains","notContains","equals","notEqual","startsWith","endsWith","greaterThanOrEqual","lessThanOrEqual","inRange","fieldNameMap","NM","AGE","PJ_INP_STTS","CTRT_NMTM","BRDT","GNDR","JBPS","GRD","T_CR_PER","RGN","MBL_TELNO","EML","CONTT_MTHD","NTRV_DMND_DT","INP_PSBLTY_DT","OGDP_CO","SN","WHTAX_YN","BZMN_YN","KDS_EMP_YN","CTRT_CO_EMP_YN","CLCT_PICKUP_DT","GIVE_DT","BANK","ACTNO","DEPT","MM_DMND_UNTPRC","ADDR","JBTTL","BRKR","KAKAO_NICK","CTRT_HSTRY_YN","MS","MDL","OS","LANG","DB","TOOL","FRMW","LBRR","CMNCT","ETC","updateButtonData","keyName","type","filter","displayType","displayKeyName","console","log","isAlreadyRegistered","value","some","button","push","resetButtons","forEach","SearchResultEvent","removeFilter","removeButton","index","splice","handleRemoveFilter","filterModel","gridApi","getFilterModel","conditions","updatedConditions","condition","length","setFilterModel","add"],"sources":["C:/Users/User/.intelij/payinfo/frontend/src/components/common/SearchFilterBtnComponent.vue"],"sourcesContent":["<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport eventbus from '@/eventbus/eventbus';\r\n\r\nconst buttons = ref([]);\r\n\r\n// 필터 타입에 대한 한글 매핑\r\nconst filterTypeMap = {\r\n  contains: '포함',\r\n  notContains: '포함하지 않음',\r\n  equals: '같음',\r\n  notEqual: '같지 않음',\r\n  startsWith: '시작하는',\r\n  endsWith: '끝나는',\r\n  //숫자필터 관련\r\n  greaterThanOrEqual: '이상',\r\n  lessThanOrEqual: '이하',\r\n  inRange: '범위 내',\r\n};\r\n\r\n// 필드 이름에 대한 한글 매핑\r\nconst fieldNameMap = {\r\n  NM: '이름',\r\n  AGE: '나이',\r\n  PJ_INP_STTS: '프로젝트투입상태',\r\n  CTRT_NMTM: '계약횟수',\r\n  BRDT: '생년월일',\r\n  GNDR: '성별',\r\n  JBPS: '직위',\r\n  GRD: '등급',\r\n  T_CR_PER: '총경력기간',\r\n  RGN: '지역',\r\n  MBL_TELNO: '휴대전화번호',\r\n  EML: '이메일',\r\n  CONTT_MTHD: '컨택방법',\r\n  NTRV_DMND_DT: '인터뷰요청일',\r\n  INP_PSBLTY_DT: '투입가능일',\r\n  OGDP_CO: '소속회사',\r\n  SN: '일련번호',\r\n  WHTAX_YN: '3.3%여부',\r\n  BZMN_YN: '사업자여부',\r\n  KDS_EMP_YN: '자사정규직여부',\r\n  CTRT_CO_EMP_YN: '계약회사정규직여부',\r\n  CLCT_PICKUP_DT: '대금수령날짜',\r\n  GIVE_DT: '지급일자',\r\n  BANK: '은행',\r\n  ACTNO: '계좌번호',\r\n  DEPT: '부서',\r\n  MM_DMND_UNTPRC: '월요청단가',\r\n  ADDR: '주소',\r\n  JBTTL: '직책',\r\n  BRKR: '소개자',\r\n  KAKAO_NICK: '카카오톡닉네임',\r\n  CTRT_HSTRY_YN: '계약이력존재여부',\r\n  MS: '병역',\r\n  MDL: '모델',\r\n  OS: '운영체제',\r\n  LANG: '언어',\r\n  DB: '데이터베이스',\r\n  TOOL: '툴',\r\n  FRMW: '프레임워크',\r\n  LBRR: '라이브러리',\r\n  CMNCT: '통신',\r\n  ETC: '기타',\r\n};\r\n\r\nconst updateButtonData = (keyName, type, filter) => {\r\n  const displayType = filterTypeMap[type] || type;\r\n  const displayKeyName = fieldNameMap[keyName] || keyName;\r\n\r\n  console.log('추가할 버튼:', { displayKeyName, displayType, filter });\r\n\r\n  const isAlreadyRegistered = buttons.value.some(button =>\r\n      button.keyName === displayKeyName && button.filter === filter && button.type === displayType\r\n  );\r\n\r\n  if (!isAlreadyRegistered) {\r\n    buttons.value.push({ keyName: displayKeyName, type: displayType, filter });\r\n  } else {\r\n    console.log('중복된 버튼:', { keyName: displayKeyName, type: displayType, filter });\r\n  }\r\n};\r\n\r\nconst resetButtons = () => {\r\n  buttons.value.forEach(button => {\r\n    eventbus.SearchResultEvent.removeFilter(button.keyName, button.type, button.filter);\r\n  });\r\n  buttons.value = [];\r\n  console.log('초기화');\r\n};\r\n\r\nconst removeButton = (index) => {\r\n  const button = buttons.value[index];\r\n\r\n  if (button) {\r\n    console.log('제거할 버튼 정보:', button);\r\n\r\n    // 필터 제거 요청\r\n    eventbus.SearchResultEvent.removeFilter(button.keyName, button.type, button.filter);\r\n\r\n    // buttons 배열에서 해당 버튼 제거\r\n    buttons.value.splice(index, 1);\r\n\r\n    // 제거 후 상태 확인\r\n    console.log('남은 버튼들:', buttons.value);\r\n  } else {\r\n    console.log('Invalid button index:', index);\r\n  }\r\n};\r\n\r\n// 필터 제거 로직을 간단한 함수로 분리\r\nconst handleRemoveFilter = (keyName, type, filter) => {\r\n  // 필터 모델 가져오기\r\n  const filterModel = gridApi.value.getFilterModel();\r\n\r\n  // 특정 키에 대한 필터가 존재하는지 확인\r\n  if (filterModel[keyName]) {\r\n    const conditions = filterModel[keyName].conditions;\r\n\r\n    // 해당 필터 조건을 제거\r\n    const updatedConditions = conditions.filter(condition =>\r\n        !(condition.type === type && condition.filter === filter)\r\n    );\r\n\r\n    // 조건이 남아있으면 업데이트, 없으면 키 삭제\r\n    if (updatedConditions.length > 0) {\r\n      filterModel[keyName].conditions = updatedConditions;\r\n    } else {\r\n      delete filterModel[keyName];\r\n    }\r\n\r\n    // 업데이트된 필터 모델을 그리드에 적용\r\n    gridApi.value.setFilterModel(filterModel);\r\n  }\r\n};\r\n\r\n// 이벤트 리스너 등록\r\nonMounted(() => {\r\n  eventbus.SearchResultEvent.add('filterUpdate', updateButtonData);\r\n  eventbus.SearchResultEvent.add('resetButtons', resetButtons);\r\n\r\n  // removeFilter 이벤트 핸들러 간단하게 등록\r\n  eventbus.SearchResultEvent.add('removeFilter', handleRemoveFilter);\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <button v-for=\"(button, index) in buttons\" :key=\"index\" class=\"btn filterBtn\">\r\n      {{ button.keyName }}: {{ button.filter }} {{ button.type }}\r\n      <span class=\"remove-btn\" @click.stop=\"removeButton(index)\">X</span>\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.filterBtn {\r\n  background-color: white;\r\n  border-radius: 20px;\r\n  margin: 5px;\r\n  border: 1px solid #b4c7dd;\r\n  position: relative; /* 상대 위치로 설정 */\r\n  padding-right: 20px; /* X 버튼 공간 확보 */\r\n}\r\n\r\n.remove-btn {\r\n  position: absolute; /* 절대 위치로 설정 */\r\n  right: 5px; /* 오른쪽 여백 */\r\n  top: 50%; /* 수직 중앙 정렬 */\r\n  transform: translateY(-50%); /* 중앙 정렬 보정 */\r\n  cursor: pointer; /* 커서 모양 변경 */\r\n  color: red; /* X 버튼 색상 */\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}